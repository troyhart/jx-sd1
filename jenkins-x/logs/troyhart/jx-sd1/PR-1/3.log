
Showing logs for build [32mtroyhart-jx-sd1-pr-1-pr-build-4kkfp-3[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-gq7k8[0m
{"level":"warn","ts":1587307543.6178002,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/0.8.0-**-support-backwards-incompats\" is not a valid GitHub commit ID"}
{"level":"info","ts":1587307543.6199024,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mtroyhart-jx-sd1-pr-1-pr-build-4kkfp-3[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-97gx2[0m
{"level":"warn","ts":1587307544.4996881,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1587307544.503249,"logger":"fallback-logger","caller":"bash/main.go:64","msg":"Successfully executed command \"sh -c mkdir -p /workspace/source\"; output "}

Showing logs for build [32mtroyhart-jx-sd1-pr-1-pr-build-4kkfp-3[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32mtroyhart-jx-sd1-pr-1-pr-build-4kkfp-3[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-troyhart-jx-sd1-pr-1-pr-build-4kkfp-zh55b[0m
{"level":"warn","ts":1587307553.3092487,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/0.8.0-**-support-backwards-incompats\" is not a valid GitHub commit ID"}
{"level":"info","ts":1587307554.1752262,"logger":"fallback-logger","caller":"git/git.go:103","msg":"Successfully cloned https://github.com/********/**-sd1.git @ master in path /workspace/source"}

Showing logs for build [32mtroyhart-jx-sd1-pr-1-pr-build-4kkfp-3[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:54283148ba12c0ea0cc03438487abb33c936db0c,1:c61426d765a668c8c2806763299726800e83de27
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git fetch origin --unshallow c61426d765a668c8c2806763299726800e83de27: 54283148ba12c0ea0cc03438487abb33c936db0c:
DEBUG: ran git fetch --unshallow origin c61426d765a668c8c2806763299726800e83de27: 54283148ba12c0ea0cc03438487abb33c936db0c: in 
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git branch
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git checkout master
DEBUG: ran git checkout master in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git reset --hard 54283148ba12c0ea0cc03438487abb33c936db0c
DEBUG: ran git reset --hard 54283148ba12c0ea0cc03438487abb33c936db0c in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git clean -fd .
DEBUG: ran clean --force -d . in 
DEBUG: LC_ALL=C JX_LOG_LEVEL=error git merge c61426d765a668c8c2806763299726800e83de27
DEBUG: ran git merge c61426d765a668c8c2806763299726800e83de27 in 
DEBUG: JX_LOG_LEVEL=error LC_ALL=C git log --format=%H%x1f%an%x1f%ae%x1f%cn%x1f%ce%x1f%s%n%b%x1e 54283148ba12c0ea0cc03438487abb33c936db0c..HEAD
Merged SHA c61426d765a668c8c2806763299726800e83de27 with commit message 'fixed project name in pom' into base branch master
Merged SHA 8de3acf20e8212dde1c61d7408b69151d5f61d4e with commit message 'foo' into base branch master

Showing logs for build [32mtroyhart-jx-sd1-pr-1-pr-build-4kkfp-3[0m stage [32mfrom-build-pack[0m and container [32mstep-build-set-version[0m
Picked up _JAVA_OPTIONS: -XX:+UnlockExperimentalVMOptions -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m
[INFO] Scanning for projects...
[INFO] 
[INFO] -------------------------< com.example:**-sd1 >-------------------------
[INFO] Building **-sd1 0.1
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- versions-maven-plugin:2.7:set (default-cli) @ **-sd1 ---
[INFO] Searching for local aggregator root...
[INFO] Local aggregation root: /workspace/source
[INFO] Processing change of com.example:**-sd1:0.1 -> 0.0.0-SNAPSHOT-PR-1-3
[INFO] Processing com.example:**-sd1
[INFO]     Updating project com.example:**-sd1
[INFO]         from version 0.1 to 0.0.0-SNAPSHOT-PR-1-3
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  32.079 s
[INFO] Finished at: 2020-04-19T14:46:36Z
[INFO] ------------------------------------------------------------------------

Showing logs for build [32mtroyhart-jx-sd1-pr-1-pr-build-4kkfp-3[0m stage [32mfrom-build-pack[0m and container [32mstep-build-mvn-install[0m
Picked up _JAVA_OPTIONS: -XX:+UnlockExperimentalVMOptions -Dsun.zip.disableMemoryMapping=true -XX:+UseParallelGC -XX:MinHeapFreeRatio=5 -XX:MaxHeapFreeRatio=10 -XX:GCTimeRatio=4 -XX:AdaptiveSizePolicyWeight=90 -Xms10m -Xmx192m
[INFO] Scanning for projects...
[INFO] 
[INFO] -------------------------< com.example:**-sd1 >-------------------------
[INFO] Building **-sd1 0.0.0-SNAPSHOT-PR-1-3
[INFO] --------------------------------[ jar ]---------------------------------
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ **-sd1 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 1 resource
[INFO] Copying 0 resource
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ **-sd1 ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 2 source files to /workspace/source/target/classes
[INFO] 
[INFO] --- maven-resources-plugin:3.1.0:testResources (default-testResources) @ **-sd1 ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /workspace/source/src/test/resources
[INFO] 
[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ **-sd1 ---
[INFO] Changes detected - recompiling the module!
[INFO] Compiling 1 source file to /workspace/source/target/test-classes
[INFO] 
[INFO] --- maven-surefire-plugin:3.0.0-M1:test (default-test) @ **-sd1 ---
[INFO] 
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running com.example.demo.DemoApplicationTests
14:47:25.288 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating CacheAwareContextLoaderDelegate from class [org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate]
14:47:25.393 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating BootstrapContext using constructor [public org.springframework.test.context.support.DefaultBootstrapContext(java.lang.Class,org.springframework.test.context.CacheAwareContextLoaderDelegate)]
14:47:25.601 [main] DEBUG org.springframework.test.context.BootstrapUtils - Instantiating TestContextBootstrapper for test class [com.example.demo.DemoApplicationTests] from class [org.springframework.boot.test.context.SpringBootTestContextBootstrapper]
14:47:25.709 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.example.demo.DemoApplicationTests], using SpringBootContextLoader
14:47:25.791 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.example.demo.DemoApplicationTests]: class path resource [com/example/demo/DemoApplicationTests-context.xml] does not exist
14:47:25.793 [main] DEBUG org.springframework.test.context.support.AbstractContextLoader - Did not detect default resource location for test class [com.example.demo.DemoApplicationTests]: class path resource [com/example/demo/DemoApplicationTestsContext.groovy] does not exist
14:47:25.794 [main] INFO org.springframework.test.context.support.AbstractContextLoader - Could not detect default resource locations for test class [com.example.demo.DemoApplicationTests]: no resource found for suffixes {-context.xml, Context.groovy}.
14:47:25.796 [main] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils - Could not detect default configuration classes for test class [com.example.demo.DemoApplicationTests]: DemoApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
14:47:26.097 [main] DEBUG org.springframework.test.context.support.ActiveProfilesUtils - Could not find an 'annotation declaring class' for annotation type [org.springframework.test.context.ActiveProfiles] and class [com.example.demo.DemoApplicationTests]
14:47:26.388 [main] DEBUG org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider - Identified candidate component class: file [/workspace/source/target/classes/com/example/demo/DemoApplication.class]
14:47:26.499 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Found @SpringBootConfiguration com.example.demo.DemoApplication for test class com.example.demo.DemoApplicationTests
14:47:27.009 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - @TestExecutionListeners is not present for class [com.example.demo.DemoApplicationTests]: using defaults.
14:47:27.010 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]
14:47:27.098 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/TransactionDefinition]
14:47:27.100 [main] DEBUG org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Skipping candidate TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] due to a missing dependency. Specify custom listener classes or make the default listener classes and their required dependencies available. Offending class: [org/springframework/transaction/interceptor/TransactionAttribute]
14:47:27.100 [main] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@63dd899, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59d2400d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@75cd8043, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@33b1c5c5, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5b202a3a, org.springframework.test.context.event.EventPublishingTestExecutionListener@10b9db7b, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@9ef8eb7, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@34cdeda2, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6ee660fb, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@305a0c5f, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@4535b6d5]
14:47:27.185 [main] DEBUG org.springframework.test.context.support.AbstractDirtiesContextTestExecutionListener - Before test class: context [DefaultTestContext@52066604 testClass = DemoApplicationTests, testInstance = [null], testMethod = [null], testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@340b9973 testClass = DemoApplicationTests, locations = '{}', classes = '{class com.example.demo.DemoApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@7eecb5b8, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@475c9c31, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2f953efd, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@415b0b49], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> true]], class annotated with @DirtiesContext [false] with mode [null].
14:47:27.485 [main] DEBUG org.springframework.test.context.support.TestPropertySourceUtils - Adding inlined properties to environment: {spring.jmx.enabled=false, org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=-1}

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.6.RELEASE)

2020-04-19 14:47:29.606  INFO 66 --- [           main] com.example.demo.DemoApplicationTests    : Starting DemoApplicationTests on ********-**-sd1-pr-1-pr-build-4kkfp-3-from-build-pack-2md92-pod with PID 66 (started by root in /workspace/source)
2020-04-19 14:47:29.610  INFO 66 --- [           main] com.example.demo.DemoApplicationTests    : No active profile set, falling back to default profiles: default
2020-04-19 14:47:44.900  INFO 66 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'
2020-04-19 14:47:48.814  INFO 66 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-04-19 14:47:49.212  INFO 66 --- [           main] com.example.demo.DemoApplicationTests    : Started DemoApplicationTests in 21.616 seconds (JVM running for 29.49)
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 27.091 s - in com.example.demo.DemoApplicationTests
2020-04-19 14:47:51.582  INFO 66 --- [extShutdownHook] o.s.s.concurrent.ThreadPoolTaskExecutor  : Shutting down ExecutorService 'applicationTaskExecutor'
[INFO] 
[INFO] Results:
[INFO] 
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0
[INFO] 
[INFO] 
[INFO] --- maven-jar-plugin:3.1.2:jar (default-jar) @ **-sd1 ---
[INFO] Building jar: /workspace/source/target/**-sd1-0.0.0-SNAPSHOT-PR-1-3.jar
[INFO] 
[INFO] --- spring-boot-maven-plugin:2.2.6.RELEASE:repackage (repackage) @ **-sd1 ---
[INFO] Replacing main artifact with repackaged archive
[INFO] 
[INFO] --- maven-install-plugin:2.5.2:install (default-install) @ **-sd1 ---
[INFO] Installing /workspace/source/target/**-sd1-0.0.0-SNAPSHOT-PR-1-3.jar to /home/jenkins/.mvnrepository/com/example/**-sd1/0.0.0-SNAPSHOT-PR-1-3/**-sd1-0.0.0-SNAPSHOT-PR-1-3.jar
[INFO] Installing /workspace/source/pom.xml to /home/jenkins/.mvnrepository/com/example/**-sd1/0.0.0-SNAPSHOT-PR-1-3/**-sd1-0.0.0-SNAPSHOT-PR-1-3.pom
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  01:17 min
[INFO] Finished at: 2020-04-19T14:48:02Z
[INFO] ------------------------------------------------------------------------

Showing logs for build [32mtroyhart-jx-sd1-pr-1-pr-build-4kkfp-3[0m stage [32mfrom-build-pack[0m and container [32mstep-build-skaffold-version[0m
v1.0.1

Showing logs for build [32mtroyhart-jx-sd1-pr-1-pr-build-4kkfp-3[0m stage [32mfrom-build-pack[0m and container [32mstep-build-container-build[0m
[36mINFO[0m[0000] Resolved base name openjdk:11-jre-slim to openjdk:11-jre-slim 
[36mINFO[0m[0000] Using dockerignore file: /workspace/source/.dockerignore 
[36mINFO[0m[0000] Resolved base name openjdk:11-jre-slim to openjdk:11-jre-slim 
[36mINFO[0m[0000] Retrieving image manifest openjdk:11-jre-slim 
[36mINFO[0m[0001] Retrieving image manifest openjdk:11-jre-slim 
[36mINFO[0m[0001] Built cross stage deps: map[]                
[36mINFO[0m[0001] Retrieving image manifest openjdk:11-jre-slim 
[36mINFO[0m[0002] Retrieving image manifest openjdk:11-jre-slim 
[36mINFO[0m[0003] cmd: EXPOSE                                  
[36mINFO[0m[0003] Adding exposed port: 8080/tcp                
[36mINFO[0m[0003] Resolving srcs [pom.xml target/lib*]...      
end of resolve sources
[36mINFO[0m[0003] Checking for cached layer docker-registry.default.svc.cluster.local:5000/todo/cache:f4e6e4aed643ecd3eed2819f7a2e44fe0075dd59438d12496fe4963e1ddd2068... 
[36mINFO[0m[0003] No cached layer found for cmd COPY pom.xml target/lib* /opt/lib/ 
[36mINFO[0m[0003] Resolving srcs [target/*.jar]...             
end of resolve sources
[36mINFO[0m[0003] Unpacking rootfs as cmd COPY pom.xml target/lib* /opt/lib/ requires it. 
[36mINFO[0m[0014] Taking snapshot of full filesystem...        
[36mINFO[0m[0015] Resolving paths                              
[36mINFO[0m[0017] ENV PORT 8080                                
[36mINFO[0m[0017] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0017] ENV CLASSPATH /opt/lib                       
[36mINFO[0m[0017] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0017] EXPOSE 8080                                  
[36mINFO[0m[0017] cmd: EXPOSE                                  
[36mINFO[0m[0017] Adding exposed port: 8080/tcp                
[36mINFO[0m[0017] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0017] Resolving srcs [pom.xml target/lib*]...      
end of resolve sources
[36mINFO[0m[0017] COPY pom.xml target/lib* /opt/lib/           
[36mINFO[0m[0017] Resolving srcs [pom.xml target/lib*]...      
end of resolve sources
[36mINFO[0m[0017] Resolving paths                              
[36mINFO[0m[0017] Taking snapshot of files...                  
[36mINFO[0m[0017] Pushing layer docker-registry.default.svc.cluster.local:5000/todo/cache:f4e6e4aed643ecd3eed2819f7a2e44fe0075dd59438d12496fe4963e1ddd2068 to cache now 
[36mINFO[0m[0017] Resolving srcs [target/*.jar]...             
end of resolve sources
[36mINFO[0m[0017] COPY target/*.jar /opt/app.jar               
[36mINFO[0m[0017] Resolving srcs [target/*.jar]...             
end of resolve sources
[36mINFO[0m[0017] Resolving paths                              
[36mINFO[0m[0017] Taking snapshot of files...                  
[36mINFO[0m[0019] WORKDIR /opt                                 
[36mINFO[0m[0019] cmd: workdir                                 
[36mINFO[0m[0019] Changed working directory to /opt            
[36mINFO[0m[0019] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0019] CMD ["java", "-jar", "app.jar"]              
[36mINFO[0m[0019] No files changed in this command, skipping snapshotting. 
[36mINFO[0m[0019] Pushing layer docker-registry.default.svc.cluster.local:5000/todo/cache:c93a2943046815765086012a11958d97971f919c2c5e0653c7e248dce5d53563 to cache now 
[33mWARN[0m[0021] error uploading layer to cache: failed to push to destination docker-registry.default.svc.cluster.local:5000/todo/cache:f4e6e4aed643ecd3eed2819f7a2e44fe0075dd59438d12496fe4963e1ddd2068: UNKNOWN: unknown error; map[Code:ImageStream:Unknown Err:map[ErrStatus:map[code:404 details:map[kind:namespaces name:todo] message:namespaces "todo" not found metadata:map[] reason:NotFound status:Failure]] Message:CreateImageStreamMapping: error creation of todo/cache ImageStreamMapping] 

Showing logs for build [32mtroyhart-jx-sd1-pr-1-pr-build-4kkfp-3[0m stage [32mfrom-build-pack[0m and container [32mstep-postbuild-post-build[0m
no CVE provider running in the current ** namespace so skip adding image to be analysed

Showing logs for build [32mtroyhart-jx-sd1-pr-1-pr-build-4kkfp-3[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-make-preview[0m
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-1-3/" Chart.yaml
sed -i -e "s/version:.*/version: 0.0.0-SNAPSHOT-PR-1-3/" ../*/Chart.yaml
sed -i -e "s|repository:.*|repository: docker-registry.default.svc.cluster.local:5000\/********\/**-sd1|" values.yaml
sed -i -e "s/tag:.*/tag: 0.0.0-SNAPSHOT-PR-1-3/" values.yaml
echo "  version: 0.0.0-SNAPSHOT-PR-1-3" >> requirements.yaml
** step helm build
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: storage.googleapis.com https://storage.googleapis.com/chartmuseum.jenkins-x.io
Successfully added Helm repository storage.googleapis.com.
Adding missing Helm repo: jenkins-x-chartmuseum http://jenkins-x-chartmuseum:8080
Successfully added Helm repository jenkins-x-chartmuseum.
WARNING: No $CHART_REPOSITORY defined so using the default value of: http://jenkins-x-chartmuseum:8080
Adding missing Helm repo: chartmuseum.jenkins-x.io http://chartmuseum.jenkins-x.io
Successfully added Helm repository chartmuseum.jenkins-x.io.

Showing logs for build [32mtroyhart-jx-sd1-pr-1-pr-build-4kkfp-3[0m stage [32mfrom-build-pack[0m and container [32mstep-promote-jx-preview[0m
Creating a preview
Found commit author match for: ******** with email address: thart@myriad.com
expose:
  Annotations:
    helm.sh/hook: post-install,post-upgrade
    helm.sh/hook-delete-policy: hook-succeeded
  config:
    domain: dxops.myriad.com
    exposer: Ingress
    http: "true"
preview:
  image:
    repository: docker-registry.default.svc.cluster.local:5000/********/**-sd1
    tag: 0.0.0-SNAPSHOT-PR-1-3

WARNING: Job expose has not yet terminated for helm hook phase post-upgrade due to: job expose never terminated so removing it anyway
error: failed to run 'kubectl delete -f /tmp/helm-template-workdir-515857234/preview/helmHooks/preview/charts/expose/templates/part0-job.yaml --namespace **-********-**-sd1-pr-1 --wait' command in directory '', output: 'Error from server (NotFound): error when deleting "/tmp/helm-template-workdir-515857234/preview/helmHooks/preview/charts/expose/templates/part0-job.yaml": jobs.batch "expose" not found'
[31m
Pipeline failed on stage 'from-build-pack' : container 'step-promote-jx-preview'. The execution of the pipeline has stopped.[0m
